---
import ProjectCard from './ProjectCard.astro';
import { projects } from '../../data/projectsData.js';
---

<div class="projects-grid-container" id="projects-grid">
  <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 sm:gap-8 lg:gap-10 px-4">
    {projects.map((project, idx) => (
      <div class="project-grid-item" data-index={idx} key={idx}>
        <ProjectCard {...project} />
      </div>
    ))}
  </div>
</div>

<style>
  .projects-grid-container {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .projects-grid-container.active {
    opacity: 1;
    transform: translateY(0);
  }

  .project-grid-item {
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  .project-grid-item:hover {
    transform: translateY(-5px);
  }

  @media (min-width: 640px) {
    .projects-grid-container {
      padding: 0 1rem;
    }
  }

  @media (min-width: 1024px) {
    .projects-grid-container {
      padding: 0 2rem;
    }
  }
  .project-grid-item:nth-child(1) { animation-delay: 0.1s; }
  .project-grid-item:nth-child(2) { animation-delay: 0.2s; }
  .project-grid-item:nth-child(3) { animation-delay: 0.3s; }
  .project-grid-item:nth-child(4) { animation-delay: 0.4s; }
  .project-grid-item:nth-child(5) { animation-delay: 0.5s; }
  .project-grid-item:nth-child(6) { animation-delay: 0.6s; }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .projects-grid-container.active .project-grid-item {
    animation: fadeInUp 0.6s ease forwards;
  }
</style>
